{#-
  NOTE: Changes to this file must be applied with the following command
  before they take effect:

    salt mcp state.sls salt_cloud
-#}

minion:
  master: {{ salt['network.interface_ip']('eth0' if salt['grains.get']('is_vagrant') else 'eth1') }}

  mine_functions:
    external_ip:
      - mine_function: network.interface_ip
      - eth0
    internal_ip:
      - mine_function: network.interface_ip
      - {% if salt['grains.get']('is_vagrant') %}eth0{% else %}eth1{% endif %}

  use_superseded:
    - module.run

  log_file: file:///dev/log
